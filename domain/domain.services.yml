services:
  domain.access_check:
    class: Drupal\domain\DomainAccessCheck
    arguments: ['@access_manager', '@current_user', '@module_handler']
  domain.creator:
    class: Drupal\domain\DomainCreator
    tags:
      - { name: persist }
    arguments: ['@domain.loader']
  domain.loader:
    class: Drupal\domain\DomainLoader
    tags:
      - { name: persist }
    arguments: ['@module_handler', '@config.typed']
  domain.resolver:
    class: Drupal\domain\DomainResolver
    tags:
      - { name: persist }
    arguments: ['@module_handler']
  domain.path_processor:
    class: Drupal\domain\HttpKernel\DomainPathProcessor
    arguments: ['@domain.resolver', '@module_handler']
    tags:
      - { name: path_processor_outbound, priority: 200 }
  domain.validator:
    class: Drupal\domain\DomainValidator
    tags:
      - { name: persist }
    arguments: ['@module_handler']
